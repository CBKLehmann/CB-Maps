<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" rel="preload" as="font" crossorigin="anonymous">

<div class="structure">
  <div class="floating-menu" anvil-drop-here anvil-slot=" .floating-menu" id="info">
  </div>
  <div class="nav-holder">
    <div class="left-nav anvil-measure-this" anvil-slot-repeat="left-nav" anvil-drop-container=">.anvil-container">
    </div>
    <div class="left-nav-placeholder anvil-designer-only" anvil-if-slot-empty="left-nav" anvil-drop-slot="left-nav">
      <div class="prompt">To add a sidebar, drop a ColumnPanel here.</div>
    </div>
    <div class="content">
      <div anvil-slot-repeat="default" class="anvil-measure-this"></div>
      <div id="darkBackground" class="darkBackground">
      	<div id="setHomeAddress" class="setHomeAddress">
        <form class=setHomeAddressForm>
          <p>
            Found following Address with less than 10 Meters Distance to set Marker: 
            <br>
            <b>
            Beispielheim Beispielissimus
            <br>
            Am Beipielweg 35, 23754 Beispielstadt
            </b>
            <br>
          	Do you want to mark the address as your marker address ?
          </p>
          <button class='setHomeAddressButton' type='button'>Yes</button>
          <button class='setHomeAddressButton' type='button'>No</button>
        </form>
      </div>
      </div>
      <div class="placeholder drop-here" anvil-if-slot-empty="default" anvil-drop-slot="default">Drop a ColumnPanel here.</div>
    </div>
  </div>
  <div class="nav-shield"></div>
</div>

<script>
  function hideSidebar() {
    var ln = $('.structure > .nav-holder > .left-nav');
    ln.animate({left: -ln.outerWidth()}, function() {
      ln.removeClass("in-transition shown").addClass("hidden");
      $('.nav-shield').removeClass("shown");
      $(window).trigger('resize');
    });
  }
  function showSidebar() {
    var ln = $('.structure > .nav-holder > .left-nav');
    $('.nav-shield').addClass("shown");
    ln.addClass("shown").removeClass("hidden").css({left: "-100%"}).css({left: -ln.outerWidth()}).animate({left: 0}, function() {
      ln.removeClass("in-transition");
    });
    $(window).trigger('resize');
  }
  $('.sidebar-toggle, .nav-shield').off('click').on('click', function() {
    var ln = $('.structure > .nav-holder > .left-nav');
    if (ln.is(":visible") || $('.nav-shield').is(".shown")) {
      hideSidebar();
    } else if(!ln.is(":empty")) {
      showSidebar();
    }
  });
  $('.left-nav').off('click').on('click', 'a, button', function() {
    if ($('.nav-shield').is(":visible")) {
      $('.nav-shield').trigger('click');
    }
  });
  
  function hide_show_Popup() {
    
    let popup = document.getElementsByClassName('static-popup')
    if (popup[0].style.display === 'none') {
   		for(const e of popup) {
    		e.style.display = 'flex';
        }
    }else {
    	for(const e of popup) {
    		e.style.display = 'none';
    	}
    }
  }
  
  function show_mun_info(html) {
  
    document.getElementById('info').innerHTML = html
    document.getElementById('info').style.display = 'block'
    
  }
  
  function hide_mun_info() {
    
    document.getElementById('info').style.display = 'none'
    
  }
  
  function open_tab(html) {
    
    var tab = window.open('about:blank', '_blank');
    tab.document.write(html);
    tab.document.close();
    
  }
  
  function addHomeAddress(data) {
    document.getElementById('darkBackground').style.display = 'block'
    document.querySelectorAll('.setHomeAddressButton').forEach(item => {
      item.addEventListener('click', event => {
        return(event)
      })
    })
  }
  
</script> 